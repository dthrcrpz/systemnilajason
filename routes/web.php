<?php
Route::group(['middleware' => ['web']], function(){
	Route::get('/home', 'PagesController@index');
	Route::get('/', 'PagesController@hotels');
	Route::get('addhotel', 'PagesController@addhotel');
	Route::get('login', 'PagesController@login')->middleware('logincheck');
	Route::post('login', 'LoginController@login');
	Route::post('addhotel', 'HotelsController@add')->middleware('checkuser');
	Route::get('logout', 'LoginController@logout');
	Route::get('viewhotels', 'PagesController@viewhotels')->middleware('checkuser');
	Route::get('viewhotels/delete/{hotel}', 'HotelsController@delete')->middleware('checkuser');
	Route::get('viewhotels/restore/{hotel}', 'HotelsController@restore')->middleware('checkuser');
	Route::get('viewhotels/edit/{hotel}', 'PagesController@editHotel')->middleware('checkuser');
	Route::patch('viewhotels/edit/{hotel}', 'HotelsController@update')->middleware('checkuser');
	Route::get('edithotel', 'PagesController@editmyhotel')->middleware('checkuser');
	Route::patch('edithotel', 'HotelsController@editmyhotel')->middleware('checkuser');
	Route::post('admin/edithotel', 'HotelsController@admineditmyhotel')->middleware('checkuser');
	Route::get('search', 'HotelsController@search');
	Route::get('advancedsearch', 'HotelsController@advancedsearch');
	Route::get('gallery', 'PagesController@mygallery')->middleware('checkuser');
	Route::get('managegallery', 'PagesController@managegallery')->middleware('checkuser');
	Route::post('managegallery', 'HotelsController@managegallery')->middleware('checkuser');
	Route::post('gallery', 'HotelsController@addphotos')->middleware('checkuser');
	Route::get('gallery/delete/{id}', 'HotelsController@deletephoto')->middleware('checkuser');
	Route::get('myroomtypes', 'PagesController@myroomtypes')->middleware('checkuser');
	Route::get('myrooms', 'PagesController@myrooms')->middleware('checkuser');
	Route::post('myrooms', 'RoomsController@addrooms')->middleware('checkuser');
	Route::get('addroomtype', 'RoomtypesController@add')->middleware('checkuser');
	Route::get('removeroomtype', 'RoomtypesController@remove')->middleware('checkuser');
	Route::get('deleteroom', 'RoomsController@delete')->middleware('checkuser');
	Route::get('maptest', 'PagesController@maptest');
	Route::get('rateup', 'HotelsController@rateup');
	Route::get('ratedown', 'HotelsController@ratedown');
	Route::get('{id}/rooms', 'PagesController@viewrooms');
	Route::get('{id}/map', 'PagesController@viewmap');
	Route::post('comments/add', 'CommentsController@add');
	Route::get('comments/view', 'CommentsController@view');
	Route::get('managerooms', 'PagesController@managerooms')->middleware('checkuser');
	Route::post('managerooms', 'RoomsController@managerooms')->middleware('checkuser');
	Route::get('comment/delete/{item}', 'CommentsController@delete')->middleware('checkuser');
});